(()=>{"use strict";var e={461:function(e,l,t){var a=t(360),u=t(915),v=t(253);let i={class:"content"},o={class:"popup-body"},n={class:"statistic"},r={class:"title"},s={class:"text-body"},d={style:{"text-align":"center","margin-top":"100px"}},p="work-datas",m=(0,a.aZ)({__name:"App",setup(e){let l=(0,a.iH)("zhen"),t=(0,a.iH)({}),m=[{text:"1月",value:1},{text:"2月",value:2},{text:"3月",value:3},{text:"4月",value:4},{text:"5月",value:5},{text:"6月",value:6},{text:"7月",value:7},{text:"8月",value:8},{text:"9月",value:9},{text:"10月",value:10},{text:"11月",value:11},{text:"12月",value:12}],c=(0,a.iH)(""),f=(0,a.iH)([]),h=(0,a.iH)(!1),w=(0,a.iH)(""),g=(0,a.iH)(""),b=(0,a.iH)(1),y=(0,a.iH)(new Date().getMonth()+1),k=(0,a.iH)(!1),x=(0,a.iH)(!1),_=(0,a.iH)(!1),H=(0,a.iH)(0),W=(0,a.iH)("0"),C=new Date,O=()=>{(0,u.WD)({title:"删除确认",message:"数据删除之后无法恢复，真的要删除吗？"}).then(()=>{t.value[l.value]=[],D(),localStorage.setItem(p,JSON.stringify(t.value))}).catch(()=>{})},D=()=>{t.value[l.value]&&(H.value=t.value[l.value].filter(e=>new Date(e.date).getMonth()+1==y.value).reduce((e,l)=>{if(l.isRestday)return e;let t=J(l.time1,l.time2);return e+(isNaN(t)?0:t)},0),W.value=(H.value/new Date(C.getFullYear(),C.getMonth()+1,0).getDate()).toFixed(2))};(0,a.YP)([()=>y.value,()=>t.value],()=>{},{immediate:!0,deep:!0});let I=(e,l)=>{console.log(e,l)},U=e=>{let{selectedValues:l}=e;y.value=l[0],k.value=!1,D()},$=e=>{c.value=M(e);let a=t.value[l.value].find(e=>e.date==c.value);h.value=(null==a?void 0:a.isRestday)??!1,w.value=(null==a?void 0:a.time1)??"",g.value=(null==a?void 0:a.time2)??"",x.value=!0},j=()=>{if(!h.value){if(!w.value)return void(0,v.LJ)({message:"输入上班时间哦"});if(!g.value)return void(0,v.LJ)({message:"输入下班时间哦"})}x.value=!1;let e=t.value[l.value].find(e=>e.date==c.value);e?(e.date=c.value,e.time1=w.value,e.time2=g.value,e.isRestday=h.value):t.value[l.value].push({date:c.value,time1:w.value,time2:g.value,isRestday:h.value}),D(),localStorage.setItem(p,JSON.stringify(t.value))},S=()=>{1==b.value?w.value=`${f.value[0]}:${f.value[1]}`:g.value=`${f.value[0]}:${f.value[1]}`,_.value=!1},z=e=>{b.value=e,w.value&&g.value?(1==e&&(f.value=w.value.split(":")),2==e&&(f.value=g.value.split(":"))):1==e?f.value=["10","00"]:f.value=["18","00"],_.value=!0},N=()=>{let e=localStorage.getItem(p);if(e&&""!=e)t.value=JSON.parse(e??"");else{let e={};e[l.value]=[],t.value=e}t.value[l.value]||(t.value[l.value]=[]),D()};(0,a.bv)(()=>{N()});let V=e=>{if(!l.value)return e;let a=t.value[l.value];if(!a)return e;let u=M(e.date),v=a.find(e=>e.date==u);return v&&(v.isRestday?e.bottomInfo="休息":(e.topInfo=`${v.time1}
${v.time2}`,e.bottomInfo=J(v.time1,v.time2)+"")),e},M=e=>e?`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`:"";function J(e,l){let[t,a]=e.split(":").map(Number),[u,v]=l.split(":").map(Number),i=new Date(2025,3,23,t,a),o=new Date(2025,3,23,u,v)-i;return o<0&&(o+=864e5),o/36e5}return(e,l)=>{let t=(0,a.up)("van-calendar"),u=(0,a.up)("van-checkbox"),v=(0,a.up)("van-cell"),p=(0,a.up)("van-cell-group"),b=(0,a.up)("van-button"),C=(0,a.up)("van-popup"),D=(0,a.up)("van-time-picker"),N=(0,a.up)("van-picker"),M=(0,a.up)("van-tag");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(t,{title:"☕","row-height":"90",poppable:!1,type:"single","switch-mode":"month",onConfirm:$,"show-confirm":!1,"show-title":!1,formatter:V,"first-day-of-week":"1","show-mark":!1,onMonthShow:I}),(0,a.Wm)(C,{show:x.value,"onUpdate:show":l[5]||(l[5]=e=>x.value=e),round:"",style:{width:"80%",padding:"20px",height:"280px"}},{default:(0,a.w5)(()=>[(0,a._)("div",o,[(0,a._)("div",null,(0,a.zw)(c.value),1),(0,a.Wm)(p,null,{default:(0,a.w5)(()=>[(0,a.Wm)(v,{clickable:"",title:"今日休息",onClick:l[2]||(l[2]=e=>h.value=!h.value)},{"right-icon":(0,a.w5)(()=>[(0,a.Wm)(u,{name:"rest",onClick:l[0]||(l[0]=(0,a.iM)(()=>{},["stop"])),modelValue:h.value,"onUpdate:modelValue":l[1]||(l[1]=e=>h.value=e)},null,8,["modelValue"])]),_:1}),h.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(v,{title:"上班时间",value:w.value,onClick:l[3]||(l[3]=e=>z(1))},null,8,["value"]),(0,a.Wm)(v,{title:"下班时间",value:g.value,onClick:l[4]||(l[4]=e=>z(2))},null,8,["value"])],64))]),_:1}),(0,a.Wm)(b,{class:"btn",onClick:j,type:"primary",round:""},{default:(0,a.w5)(()=>l[12]||(l[12]=[(0,a.Uk)("保存")])),_:1})])]),_:1},8,["show"]),(0,a.Wm)(C,{show:_.value,"onUpdate:show":l[8]||(l[8]=e=>_.value=e),position:"bottom"},{default:(0,a.w5)(()=>[((0,a.wg)(),(0,a.j4)(D,{modelValue:f.value,"onUpdate:modelValue":l[6]||(l[6]=e=>f.value=e),key:1,title:"选择时间",onConfirm:S,onCancel:l[7]||(l[7]=e=>_.value=!1)},null,8,["modelValue"]))]),_:1},8,["show"]),(0,a.Wm)(C,{show:k.value,"onUpdate:show":l[10]||(l[10]=e=>k.value=e),position:"bottom"},{default:(0,a.w5)(()=>[(0,a.Wm)(N,{title:"标题",columns:m,onConfirm:U,onCancel:l[9]||(l[9]=e=>k.value=!1)})]),_:1},8,["show"]),(0,a._)("div",n,[(0,a._)("div",r,[l[13]||(l[13]=(0,a.Uk)(" 统计信息:")),(0,a.Wm)(M,{onClick:l[11]||(l[11]=e=>k.value=!0),type:"primary"},{default:(0,a.w5)(()=>[(0,a.Uk)((0,a.zw)(y.value)+"月>",1)]),_:1})]),(0,a._)("div",s,[(0,a._)("p",null,"累计工时："+(0,a.zw)(H.value),1),(0,a._)("p",null,"平均每日工时："+(0,a.zw)(W.value),1)])]),(0,a._)("div",d,[(0,a.Wm)(b,{size:"small",type:"danger",onClick:O},{default:(0,a.w5)(()=>l[14]||(l[14]=[(0,a.Uk)("清空数据")])),_:1})])])}}}),c=(0,t(472).default)(m,[["__scopeId","data-v-184c974e"]]);var f=t(290),h=t(420),w=t(150),g=t(404),b=t(795),y=t(640),k=t(186),x=t(573),_=t(975);t(929);let H=(0,a.ri)(c);H.use(f.f),H.use(h.zx),H.use(w.GI),H.use(g.jI),H.use(b.bL),H.use(y.TS),H.use(k.XZ),H.use(x.Vp),H.use(_.cW),document.title="\uD83C\uDFDD️真真的工时记录",H.mount("#root")}},l={};function t(a){var u=l[a];if(void 0!==u)return u.exports;var v=l[a]={exports:{}};return e[a](v,v.exports,t),v.exports}t.m=e,t.d=(e,l)=>{for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},t.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e=[];t.O=(l,a,u,v)=>{if(a){v=v||0;for(var i=e.length;i>0&&e[i-1][2]>v;i--)e[i]=e[i-1];e[i]=[a,u,v];return}for(var o=1/0,i=0;i<e.length;i++){for(var[a,u,v]=e[i],n=!0,r=0;r<a.length;r++)(!1&v||o>=v)&&Object.keys(t.O).every(e=>t.O[e](a[r]))?a.splice(r--,1):(n=!1,v<o&&(o=v));if(n){e.splice(i--,1);var s=u();void 0!==s&&(l=s)}}return l}})(),t.rv=()=>"1.3.5",(()=>{var e={980:0};t.O.j=l=>0===e[l];var l=(l,a)=>{var u,v,[i,o,n]=a,r=0;if(i.some(l=>0!==e[l])){for(u in o)t.o(o,u)&&(t.m[u]=o[u]);if(n)var s=n(t)}for(l&&l(a);r<i.length;r++)v=i[r],t.o(e,v)&&e[v]&&e[v][0](),e[v]=0;return t.O(s)},a=self.webpackChunkrsbuild_vue3_ts=self.webpackChunkrsbuild_vue3_ts||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})(),t.ruid="bundler=rspack@1.3.5";var a=t.O(void 0,["139","747"],function(){return t(461)});a=t.O(a)})();