(()=>{"use strict";var e={544:function(e,l,a){var t=a(360),u=a(915),v=a(253);let i={class:"content"},o={class:"popup-body"},n={class:"popup-body"},r={class:"statistic"},s={class:"title"},d={class:"text-body"},p={style:{"text-align":"center","margin-top":"100px"}},m="work-datas",c="month-hours",f=(0,t.aZ)({__name:"App",setup(e){let l=(0,t.iH)("zhen"),a=(0,t.iH)({}),f=(0,t.iH)([]),h=[{text:"1月",value:1},{text:"2月",value:2},{text:"3月",value:3},{text:"4月",value:4},{text:"5月",value:5},{text:"6月",value:6},{text:"7月",value:7},{text:"8月",value:8},{text:"9月",value:9},{text:"10月",value:10},{text:"11月",value:11},{text:"12月",value:12}],w=(0,t.iH)(""),g=(0,t.iH)([]),b=(0,t.iH)(!1),y=(0,t.iH)(""),k=(0,t.iH)(""),_=(0,t.iH)(1),x=(0,t.iH)(200),H=(0,t.iH)(new Date().getMonth()+1),W=(0,t.iH)(!1),O=(0,t.iH)(!1),C=(0,t.iH)(!1),D=(0,t.iH)(!1),$=(0,t.iH)(0),S=(0,t.iH)("0");(0,t.iH)(0);let U=(0,t.iH)("0%"),I=new Date,N=()=>{(0,u.WD)({title:"删除确认",message:"数据删除之后无法恢复，真的要删除吗？"}).then(()=>{a.value[l.value]=[],V(),localStorage.setItem(m,JSON.stringify(a.value))}).catch(()=>{})},V=()=>{a.value[l.value]&&($.value=a.value[l.value].filter(e=>new Date(e.date).getMonth()+1==H.value).reduce((e,l)=>{if(l.isRestday)return e;let a=A(l.time1,l.time2);return e+(isNaN(a)?0:a)},0),S.value=($.value/new Date(I.getFullYear(),I.getMonth()+1,0).getDate()).toFixed(2)),U.value=($.value/x.value*100).toFixed(2)+"%"};(0,t.YP)([()=>H.value,()=>a.value],()=>{},{immediate:!0,deep:!0});let z=()=>{D.value=!0},F=(e,l)=>{console.log(e,l)},j=e=>{let{selectedValues:l}=e;H.value=l[0],W.value=!1,V()},J=e=>{w.value=q(e);let t=a.value[l.value].find(e=>e.date==w.value);b.value=(null==t?void 0:t.isRestday)??!1,y.value=(null==t?void 0:t.time1)??"",k.value=(null==t?void 0:t.time2)??"",O.value=!0},M=()=>{if(!b.value){if(!y.value)return void(0,v.LJ)({message:"输入上班时间哦"});if(!k.value)return void(0,v.LJ)({message:"输入下班时间哦"})}O.value=!1;let e=a.value[l.value].find(e=>e.date==w.value);e?(e.date=w.value,e.time1=y.value,e.time2=k.value,e.isRestday=b.value):a.value[l.value].push({date:w.value,time1:y.value,time2:k.value,isRestday:b.value}),V(),localStorage.setItem(m,JSON.stringify(a.value))},Y=()=>{let e=new Date,l=`${e.getFullYear()}${H.value}`,a=f.value.find(e=>e.date==l);a?a.hour=x.value:f.value.push({date:l,hour:x.value}),V(),localStorage.setItem(c,JSON.stringify(f.value)),D.value=!1},R=()=>{1==_.value?y.value=`${g.value[0]}:${g.value[1]}`:k.value=`${g.value[0]}:${g.value[1]}`,C.value=!1},L=e=>{_.value=e,y.value&&k.value?(1==e&&(g.value=y.value.split(":")),2==e&&(g.value=k.value.split(":"))):1==e?g.value=["10","00"]:g.value=["18","00"],C.value=!0},P=()=>{let e=localStorage.getItem(m);if(e&&""!=e)a.value=JSON.parse(e??"");else{let e={};e[l.value]=[],a.value=e}a.value[l.value]||(a.value[l.value]=[]),V()},T=()=>{let e=localStorage.getItem(c);e&&""!=e&&(f.value=JSON.parse(e??""));let l=new Date,a=`${l.getFullYear()}${H.value}`,t=f.value.find(e=>e.date==a);t&&(x.value=t.hour,x.value=t.hour),U.value=($.value/x.value*100).toFixed(2)+"%"};(0,t.bv)(()=>{P(),T()});let Z=e=>{if(!l.value)return e;let t=a.value[l.value];if(!t)return e;let u=q(e.date),v=t.find(e=>e.date==u);return v&&(v.isRestday?e.bottomInfo="休息":(e.topInfo=`${v.time1}
${v.time2}`,e.bottomInfo=A(v.time1,v.time2)+"")),e},q=e=>e?`${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()}`:"";function A(e,l){let[a,t]=e.split(":").map(Number),[u,v]=l.split(":").map(Number),i=new Date(2025,3,23,a,t),o=new Date(2025,3,23,u,v)-i;return o<0&&(o+=864e5),o/36e5}return(e,l)=>{let a=(0,t.up)("van-calendar"),u=(0,t.up)("van-checkbox"),v=(0,t.up)("van-cell"),m=(0,t.up)("van-cell-group"),c=(0,t.up)("van-button"),f=(0,t.up)("van-popup"),_=(0,t.up)("van-time-picker"),I=(0,t.up)("van-picker"),V=(0,t.up)("van-stepper"),P=(0,t.up)("van-field"),T=(0,t.up)("van-tag"),q=(0,t.up)("van-icon");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(a,{title:"☕","row-height":"90",poppable:!1,type:"single","switch-mode":"month",onConfirm:J,"show-confirm":!1,"show-title":!1,formatter:Z,"first-day-of-week":"1","show-mark":!1,onMonthShow:F}),(0,t.Wm)(f,{show:O.value,"onUpdate:show":l[5]||(l[5]=e=>O.value=e),round:"",style:{width:"80%",padding:"20px",height:"280px"}},{default:(0,t.w5)(()=>[(0,t._)("div",o,[(0,t._)("div",null,(0,t.zw)(w.value),1),(0,t.Wm)(m,null,{default:(0,t.w5)(()=>[(0,t.Wm)(v,{clickable:"",title:"今日休息",onClick:l[2]||(l[2]=e=>b.value=!b.value)},{"right-icon":(0,t.w5)(()=>[(0,t.Wm)(u,{name:"rest",onClick:l[0]||(l[0]=(0,t.iM)(()=>{},["stop"])),modelValue:b.value,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value=e)},null,8,["modelValue"])]),_:1}),b.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(v,{title:"上班时间",value:y.value,onClick:l[3]||(l[3]=e=>L(1))},null,8,["value"]),(0,t.Wm)(v,{title:"下班时间",value:k.value,onClick:l[4]||(l[4]=e=>L(2))},null,8,["value"])],64))]),_:1}),(0,t.Wm)(c,{class:"btn",onClick:M,type:"primary",round:""},{default:(0,t.w5)(()=>l[14]||(l[14]=[(0,t.Uk)("保存")])),_:1})])]),_:1},8,["show"]),(0,t.Wm)(f,{show:C.value,"onUpdate:show":l[8]||(l[8]=e=>C.value=e),position:"bottom"},{default:(0,t.w5)(()=>[((0,t.wg)(),(0,t.j4)(_,{modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value=e),key:1,title:"选择时间",onConfirm:R,onCancel:l[7]||(l[7]=e=>C.value=!1)},null,8,["modelValue"]))]),_:1},8,["show"]),(0,t.Wm)(f,{show:W.value,"onUpdate:show":l[10]||(l[10]=e=>W.value=e),position:"bottom"},{default:(0,t.w5)(()=>[(0,t.Wm)(I,{title:"标题",columns:h,onConfirm:j,onCancel:l[9]||(l[9]=e=>W.value=!1)})]),_:1},8,["show"]),(0,t.Wm)(f,{show:D.value,"onUpdate:show":l[12]||(l[12]=e=>D.value=e),round:"",style:{width:"80%",padding:"20px",height:"280px"}},{default:(0,t.w5)(()=>[(0,t._)("div",n,[(0,t.Wm)(P,{name:"thisMonthHours",label:"本月所需工时"},{input:(0,t.w5)(()=>[(0,t.Wm)(V,{modelValue:x.value,"onUpdate:modelValue":l[11]||(l[11]=e=>x.value=e)},null,8,["modelValue"])]),_:1}),(0,t.Wm)(c,{class:"btn",onClick:Y,type:"primary",round:""},{default:(0,t.w5)(()=>l[15]||(l[15]=[(0,t.Uk)("保存")])),_:1})])]),_:1},8,["show"]),(0,t._)("div",r,[(0,t._)("div",s,[l[16]||(l[16]=(0,t.Uk)(" 统计信息:")),(0,t.Wm)(T,{onClick:l[13]||(l[13]=e=>W.value=!0),type:"primary"},{default:(0,t.w5)(()=>[(0,t.Uk)((0,t.zw)(H.value)+"月>",1)]),_:1}),(0,t.Wm)(q,{name:"setting-o",onClick:z})]),(0,t._)("div",d,[(0,t._)("p",null,"累计工时："+(0,t.zw)($.value)+"("+(0,t.zw)(U.value)+")",1),(0,t._)("p",null,"本月需要工时："+(0,t.zw)(x.value),1),(0,t._)("p",null,"平均每日工时："+(0,t.zw)(S.value),1)])]),(0,t._)("div",p,[(0,t.Wm)(c,{size:"small",type:"danger",onClick:N},{default:(0,t.w5)(()=>l[17]||(l[17]=[(0,t.Uk)("清空数据")])),_:1})])])}}}),h=(0,a(472).default)(f,[["__scopeId","data-v-8ffaf4e6"]]);var w=a(290),g=a(420),b=a(150),y=a(404),k=a(690),_=a(640),x=a(186),H=a(573),W=a(975),O=a(448),C=a(175),D=a(428);a(929);let $=(0,t.ri)(h);$.use(w.f),$.use(g.zx),$.use(b.GI),$.use(y.jI),$.use(k.bL),$.use(_.TS),$.use(x.XZ),$.use(H.Vp),$.use(W.cW),$.use(O.JO),$.use(C.gN),$.use(D.vF),document.title="\uD83C\uDFDD️真真的工时记录",$.mount("#root")}},l={};function a(t){var u=l[t];if(void 0!==u)return u.exports;var v=l[t]={exports:{}};return e[t](v,v.exports,a),v.exports}a.m=e,a.d=(e,l)=>{for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})},a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e=[];a.O=(l,t,u,v)=>{if(t){v=v||0;for(var i=e.length;i>0&&e[i-1][2]>v;i--)e[i]=e[i-1];e[i]=[t,u,v];return}for(var o=1/0,i=0;i<e.length;i++){for(var[t,u,v]=e[i],n=!0,r=0;r<t.length;r++)(!1&v||o>=v)&&Object.keys(a.O).every(e=>a.O[e](t[r]))?t.splice(r--,1):(n=!1,v<o&&(o=v));if(n){e.splice(i--,1);var s=u();void 0!==s&&(l=s)}}return l}})(),a.rv=()=>"1.3.5",(()=>{var e={980:0};a.O.j=l=>0===e[l];var l=(l,t)=>{var u,v,[i,o,n]=t,r=0;if(i.some(l=>0!==e[l])){for(u in o)a.o(o,u)&&(a.m[u]=o[u]);if(n)var s=n(a)}for(l&&l(t);r<i.length;r++)v=i[r],a.o(e,v)&&e[v]&&e[v][0](),e[v]=0;return a.O(s)},t=self.webpackChunkrsbuild_vue3_ts=self.webpackChunkrsbuild_vue3_ts||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})(),a.ruid="bundler=rspack@1.3.5";var t=a.O(void 0,["139","793"],function(){return a(544)});t=a.O(t)})();