(()=>{"use strict";var e={333:function(e,t,l){var a=l(360),u=l(915),v=l(253);let i={class:"content"},o={class:"popup-body"},n={class:"statistic"},r={class:"title"},s={class:"text-body"},d={style:{"text-align":"center","margin-top":"100px"}},p="work-datas",m=(0,a.aZ)({__name:"App",setup(e){let t=(0,a.iH)("zhen"),l=(0,a.iH)({}),m=[{text:"1月",value:1},{text:"2月",value:2},{text:"3月",value:3},{text:"4月",value:4},{text:"5月",value:5},{text:"6月",value:6},{text:"7月",value:7},{text:"8月",value:8},{text:"9月",value:9},{text:"10月",value:10},{text:"11月",value:11},{text:"12月",value:12}],c=(0,a.iH)(""),f=(0,a.iH)([]),h=(0,a.iH)(!1),w=(0,a.iH)(""),g=(0,a.iH)(""),b=(0,a.iH)(1),y=(0,a.iH)(new Date().getMonth()+1),k=(0,a.iH)(!1),x=(0,a.iH)(!1),_=(0,a.iH)(!1),H=(0,a.iH)(0),W=(0,a.iH)("0"),O=new Date,C=()=>{(0,u.WD)({title:"删除确认",message:"数据删除之后无法恢复，真的要删除吗？"}).then(()=>{l.value[t.value]=[],localStorage.setItem(p,JSON.stringify(l.value))}).catch(()=>{})};(0,a.YP)([()=>y.value,()=>l.value],()=>{l.value[t.value]&&(H.value=l.value[t.value].filter(e=>new Date(e.date).getMonth()+1==y.value).reduce((e,t)=>{let l=M(t.time1,t.time2);return e+(isNaN(l)?0:l)},0),W.value=(H.value/new Date(O.getFullYear(),O.getMonth()+1,0).getDate()).toFixed(2))},{immediate:!0,deep:!0});let D=(e,t)=>{console.log(e,t)},I=e=>{let{selectedValues:t}=e;y.value=t[0],k.value=!1},U=e=>{c.value=z(e);let a=l.value[t.value].find(e=>e.date==c.value);h.value=(null==a?void 0:a.isRestday)??!1,w.value=(null==a?void 0:a.time1)??"",g.value=(null==a?void 0:a.time2)??"",x.value=!0},$=()=>{if(!h.value){if(!w.value)return void(0,v.LJ)({message:"输入上班时间哦"});if(!g.value)return void(0,v.LJ)({message:"输入下班时间哦"})}x.value=!1;let e=l.value[t.value].find(e=>e.date==c.value);e?(e.date=c.value,e.time1=w.value,e.time2=g.value,e.isRestday=h.value):l.value[t.value].push({date:c.value,time1:w.value,time2:g.value,isRestday:h.value}),localStorage.setItem(p,JSON.stringify(l.value))},j=()=>{1==b.value?w.value=`${f.value[0]}:${f.value[1]}`:g.value=`${f.value[0]}:${f.value[1]}`,_.value=!1},S=e=>{b.value=e,_.value=!0},N=()=>{let e=localStorage.getItem(p);if(e&&""!=e)l.value=JSON.parse(e??"");else{let e={};e[t.value]=[],l.value=e}l.value[t.value]||(l.value[t.value]=[])};(0,a.bv)(()=>{N()});let V=e=>{if(!t.value)return e;let a=l.value[t.value];if(!a)return e;let u=z(e.date),v=a.find(e=>e.date==u);return v&&(v.isRestday?e.bottomInfo="休息":(e.topInfo=`${v.time1}
${v.time2}`,e.bottomInfo=M(v.time1,v.time2)+"")),e},z=e=>e?`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`:"";function M(e,t){let[l,a]=e.split(":").map(Number),[u,v]=t.split(":").map(Number),i=new Date(2025,3,23,l,a),o=new Date(2025,3,23,u,v)-i;return o<0&&(o+=864e5),o/36e5}return(e,t)=>{let l=(0,a.up)("van-calendar"),u=(0,a.up)("van-checkbox"),v=(0,a.up)("van-cell"),p=(0,a.up)("van-cell-group"),c=(0,a.up)("van-button"),b=(0,a.up)("van-popup"),O=(0,a.up)("van-time-picker"),N=(0,a.up)("van-picker"),z=(0,a.up)("van-tag");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(l,{title:"☕","row-height":"80",poppable:!1,type:"single","switch-mode":"month",onConfirm:U,"show-confirm":!1,formatter:V,onMonthShow:D}),(0,a.Wm)(b,{show:x.value,"onUpdate:show":t[5]||(t[5]=e=>x.value=e),round:"",style:{width:"80%",padding:"20px",height:"250px"}},{default:(0,a.w5)(()=>[(0,a._)("div",o,[(0,a.Wm)(p,null,{default:(0,a.w5)(()=>[(0,a.Wm)(v,{clickable:"",title:"今日休息",onClick:t[2]||(t[2]=e=>h.value=!h.value)},{"right-icon":(0,a.w5)(()=>[(0,a.Wm)(u,{name:"rest",onClick:t[0]||(t[0]=(0,a.iM)(()=>{},["stop"])),modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e)},null,8,["modelValue"])]),_:1}),h.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(v,{title:"上班时间",value:w.value,onClick:t[3]||(t[3]=e=>S(1))},null,8,["value"]),(0,a.Wm)(v,{title:"下班时间",value:g.value,onClick:t[4]||(t[4]=e=>S(2))},null,8,["value"])],64))]),_:1}),(0,a.Wm)(c,{class:"btn",onClick:$,type:"primary",round:""},{default:(0,a.w5)(()=>t[11]||(t[11]=[(0,a.Uk)("保存")])),_:1})])]),_:1},8,["show"]),(0,a.Wm)(b,{show:_.value,"onUpdate:show":t[7]||(t[7]=e=>_.value=e),position:"bottom"},{default:(0,a.w5)(()=>[((0,a.wg)(),(0,a.j4)(O,{modelValue:f.value,"onUpdate:modelValue":t[6]||(t[6]=e=>f.value=e),key:1,title:"选择时间",onConfirm:j},null,8,["modelValue"]))]),_:1},8,["show"]),(0,a.Wm)(b,{show:k.value,"onUpdate:show":t[9]||(t[9]=e=>k.value=e),position:"bottom"},{default:(0,a.w5)(()=>[(0,a.Wm)(N,{title:"标题",columns:m,onConfirm:I,onCancel:t[8]||(t[8]=e=>k.value=!1)})]),_:1},8,["show"]),(0,a._)("div",n,[(0,a._)("div",r,[t[12]||(t[12]=(0,a.Uk)(" 统计信息:")),(0,a.Wm)(z,{onClick:t[10]||(t[10]=e=>k.value=!0),type:"primary"},{default:(0,a.w5)(()=>[(0,a.Uk)((0,a.zw)(y.value)+"月>",1)]),_:1})]),(0,a._)("div",s,[(0,a._)("p",null,"累计工时："+(0,a.zw)(H.value),1),(0,a._)("p",null,"平均每日工时："+(0,a.zw)(W.value),1)])]),(0,a._)("div",d,[(0,a.Wm)(c,{size:"small",type:"danger",onClick:C},{default:(0,a.w5)(()=>t[13]||(t[13]=[(0,a.Uk)("清空数据")])),_:1})])])}}}),c=(0,l(472).default)(m,[["__scopeId","data-v-0a19d074"]]);var f=l(290),h=l(420),w=l(150),g=l(404),b=l(795),y=l(640),k=l(186),x=l(573),_=l(975);l(929);let H=(0,a.ri)(c);H.use(f.f),H.use(h.zx),H.use(w.GI),H.use(g.jI),H.use(b.bL),H.use(y.TS),H.use(k.XZ),H.use(x.Vp),H.use(_.cW),document.title="\uD83C\uDFDD️真真的工时记录",H.mount("#root")}},t={};function l(a){var u=t[a];if(void 0!==u)return u.exports;var v=t[a]={exports:{}};return e[a](v,v.exports,l),v.exports}l.m=e,l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];l.O=(t,a,u,v)=>{if(a){v=v||0;for(var i=e.length;i>0&&e[i-1][2]>v;i--)e[i]=e[i-1];e[i]=[a,u,v];return}for(var o=1/0,i=0;i<e.length;i++){for(var[a,u,v]=e[i],n=!0,r=0;r<a.length;r++)(!1&v||o>=v)&&Object.keys(l.O).every(e=>l.O[e](a[r]))?a.splice(r--,1):(n=!1,v<o&&(o=v));if(n){e.splice(i--,1);var s=u();void 0!==s&&(t=s)}}return t}})(),l.rv=()=>"1.3.5",(()=>{var e={980:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var u,v,[i,o,n]=a,r=0;if(i.some(t=>0!==e[t])){for(u in o)l.o(o,u)&&(l.m[u]=o[u]);if(n)var s=n(l)}for(t&&t(a);r<i.length;r++)v=i[r],l.o(e,v)&&e[v]&&e[v][0](),e[v]=0;return l.O(s)},a=self.webpackChunkrsbuild_vue3_ts=self.webpackChunkrsbuild_vue3_ts||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.ruid="bundler=rspack@1.3.5";var a=l.O(void 0,["139","747"],function(){return l(333)});a=l.O(a)})();