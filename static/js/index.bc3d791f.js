(()=>{"use strict";var e={128:function(e,t,l){var a=l(360);let u={class:"content"};var o=l(472);let i=(0,o.default)({},[["render",function(e,t){let l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(l)])}]]);var v=l(290),n=l(420),r=l(150),s=l(404),d=l(795),p=l(640),m=l(186),c=l(573),f=l(975);l(929);var h=l(680),w=l(915),g=l(253);let b={class:"content"},k={class:"popup-body"},y={class:"statistic"},x={class:"title"},_={class:"text-body"},W={style:{"text-align":"center","margin-top":"100px"}},H="work-datas",O=(0,a.aZ)({__name:"WorkHour",setup(e){let t=(0,a.iH)("zhen"),l=(0,a.iH)({}),u=[{text:"1月",value:1},{text:"2月",value:2},{text:"3月",value:3},{text:"4月",value:4},{text:"5月",value:5},{text:"6月",value:6},{text:"7月",value:7},{text:"8月",value:8},{text:"9月",value:9},{text:"10月",value:10},{text:"11月",value:11},{text:"12月",value:12}],o=(0,a.iH)(""),i=(0,a.iH)([]),v=(0,a.iH)(!1),n=(0,a.iH)(""),r=(0,a.iH)(""),s=(0,a.iH)(1),d=(0,a.iH)(new Date().getMonth()+1),p=(0,a.iH)(!1),m=(0,a.iH)(!1),c=(0,a.iH)(!1),f=(0,a.iH)(0),h=(0,a.iH)("0"),O=new Date,C=()=>{(0,w.WD)({title:"删除确认",message:"数据删除之后无法恢复，真的要删除吗？"}).then(()=>{l.value[t.value]=[],localStorage.setItem(H,JSON.stringify(l.value))}).catch(()=>{})};(0,a.YP)([()=>d.value,()=>l.value],()=>{l.value[t.value]&&(f.value=l.value[t.value].filter(e=>new Date(e.date).getMonth()+1==d.value).reduce((e,t)=>{let l=M(t.time1,t.time2);return e+(isNaN(l)?0:l)},0),h.value=(f.value/new Date(O.getFullYear(),O.getMonth()+1,0).getDate()).toFixed(2))},{immediate:!0,deep:!0});let D=(e,t)=>{console.log(e,t)},I=e=>{let{selectedValues:t}=e;d.value=t[0],p.value=!1},U=e=>{o.value=z(e);let a=l.value[t.value].find(e=>e.date==o.value);v.value=(null==a?void 0:a.isRestday)??!1,n.value=(null==a?void 0:a.time1)??"",r.value=(null==a?void 0:a.time2)??"",m.value=!0},$=()=>{if(!v.value){if(!n.value)return void(0,g.LJ)({message:"输入上班时间哦"});if(!r.value)return void(0,g.LJ)({message:"输入下班时间哦"})}m.value=!1;let e=l.value[t.value].find(e=>e.date==o.value);e?(e.date=o.value,e.time1=n.value,e.time2=r.value,e.isRestday=v.value):l.value[t.value].push({date:o.value,time1:n.value,time2:r.value,isRestday:v.value}),localStorage.setItem(H,JSON.stringify(l.value))},j=()=>{1==s.value?n.value=`${i.value[0]}:${i.value[1]}`:r.value=`${i.value[0]}:${i.value[1]}`,c.value=!1},S=e=>{s.value=e,c.value=!0},N=()=>{let e=localStorage.getItem(H);if(e&&""!=e)l.value=JSON.parse(e??"");else{let e={};e[t.value]=[],l.value=e}l.value[t.value]||(l.value[t.value]=[])};(0,a.bv)(()=>{document.title="\uD83C\uDFDD️真真的工时记录",N()});let V=e=>{if(!t.value)return e;let a=l.value[t.value];if(!a)return e;let u=z(e.date),o=a.find(e=>e.date==u);return o&&(o.isRestday?e.bottomInfo="休息":(e.topInfo=`${o.time1}
${o.time2}`,e.bottomInfo=M(o.time1,o.time2)+"")),e},z=e=>e?`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`:"";function M(e,t){let[l,a]=e.split(":").map(Number),[u,o]=t.split(":").map(Number),i=new Date(2025,3,23,l,a),v=new Date(2025,3,23,u,o)-i;return v<0&&(v+=864e5),v/36e5}return(e,t)=>{let l=(0,a.up)("van-calendar"),o=(0,a.up)("van-checkbox"),s=(0,a.up)("van-cell"),w=(0,a.up)("van-cell-group"),g=(0,a.up)("van-button"),H=(0,a.up)("van-popup"),O=(0,a.up)("van-time-picker"),N=(0,a.up)("van-picker"),z=(0,a.up)("van-tag");return(0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)(l,{title:"☕","row-height":"80",poppable:!1,type:"single","switch-mode":"month",onConfirm:U,"show-confirm":!1,formatter:V,onMonthShow:D}),(0,a.Wm)(H,{show:m.value,"onUpdate:show":t[5]||(t[5]=e=>m.value=e),round:"",style:{width:"80%",padding:"20px",height:"250px"}},{default:(0,a.w5)(()=>[(0,a._)("div",k,[(0,a.Wm)(w,null,{default:(0,a.w5)(()=>[(0,a.Wm)(s,{clickable:"",title:"今日休息",onClick:t[2]||(t[2]=e=>v.value=!v.value)},{"right-icon":(0,a.w5)(()=>[(0,a.Wm)(o,{name:"rest",onClick:t[0]||(t[0]=(0,a.iM)(()=>{},["stop"])),modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e)},null,8,["modelValue"])]),_:1}),v.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(s,{title:"上班时间",value:n.value,onClick:t[3]||(t[3]=e=>S(1))},null,8,["value"]),(0,a.Wm)(s,{title:"下班时间",value:r.value,onClick:t[4]||(t[4]=e=>S(2))},null,8,["value"])],64))]),_:1}),(0,a.Wm)(g,{class:"btn",onClick:$,type:"primary",round:""},{default:(0,a.w5)(()=>t[11]||(t[11]=[(0,a.Uk)("保存")])),_:1})])]),_:1},8,["show"]),(0,a.Wm)(H,{show:c.value,"onUpdate:show":t[7]||(t[7]=e=>c.value=e),position:"bottom"},{default:(0,a.w5)(()=>[((0,a.wg)(),(0,a.j4)(O,{modelValue:i.value,"onUpdate:modelValue":t[6]||(t[6]=e=>i.value=e),key:1,title:"选择时间",onConfirm:j},null,8,["modelValue"]))]),_:1},8,["show"]),(0,a.Wm)(H,{show:p.value,"onUpdate:show":t[9]||(t[9]=e=>p.value=e),position:"bottom"},{default:(0,a.w5)(()=>[(0,a.Wm)(N,{title:"标题",columns:u,onConfirm:I,onCancel:t[8]||(t[8]=e=>p.value=!1)})]),_:1},8,["show"]),(0,a._)("div",y,[(0,a._)("div",x,[t[12]||(t[12]=(0,a.Uk)(" 统计信息:")),(0,a.Wm)(z,{onClick:t[10]||(t[10]=e=>p.value=!0),type:"primary"},{default:(0,a.w5)(()=>[(0,a.Uk)((0,a.zw)(d.value)+"月>",1)]),_:1})]),(0,a._)("div",_,[(0,a._)("p",null,"累计工时："+(0,a.zw)(f.value),1),(0,a._)("p",null,"平均每日工时："+(0,a.zw)(h.value),1)])]),(0,a._)("div",W,[(0,a.Wm)(g,{size:"small",type:"danger",onClick:C},{default:(0,a.w5)(()=>t[13]||(t[13]=[(0,a.Uk)("清空数据")])),_:1})])])}}}),C=(0,o.default)(O,[["__scopeId","data-v-d93420ce"]]),D=(0,a.ri)(i);D.use(v.f),D.use(n.zx),D.use(r.GI),D.use(s.jI),D.use(d.bL),D.use(p.TS),D.use(m.XZ),D.use(c.Vp),D.use(f.cW);let I=(0,h.p7)({history:(0,h.PO)(),routes:[{path:"/",component:i,name:"home"},{path:"/work",component:C,name:"work"}]});D.use(I),D.mount("#root")}},t={};function l(a){var u=t[a];if(void 0!==u)return u.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,l),o.exports}l.m=e,l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=[];l.O=(t,a,u,o)=>{if(a){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[a,u,o];return}for(var v=1/0,i=0;i<e.length;i++){for(var[a,u,o]=e[i],n=!0,r=0;r<a.length;r++)(!1&o||v>=o)&&Object.keys(l.O).every(e=>l.O[e](a[r]))?a.splice(r--,1):(n=!1,o<v&&(v=o));if(n){e.splice(i--,1);var s=u();void 0!==s&&(t=s)}}return t}})(),l.rv=()=>"1.3.5",(()=>{var e={980:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var u,o,[i,v,n]=a,r=0;if(i.some(t=>0!==e[t])){for(u in v)l.o(v,u)&&(l.m[u]=v[u]);if(n)var s=n(l)}for(t&&t(a);r<i.length;r++)o=i[r],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(s)},a=self.webpackChunkrsbuild_vue3_ts=self.webpackChunkrsbuild_vue3_ts||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),l.ruid="bundler=rspack@1.3.5";var a=l.O(void 0,["139","118","747"],function(){return l(128)});a=l.O(a)})();